<!DOCTYPE html>
<html lang="vi">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Necessary codition</title>
    <style>
      body {
        font-family: Arial;
        padding: 20px;
      }
      table,
      th,
      td {
        border: 1px solid #000;
        border-collapse: collapse;
      }
      th,
      td {
        padding: 8px;
      }
      .task {
        margin-bottom: 20px;
        padding: 10px;
        border: 1px solid #aaa;
        border-radius: 8px;
      }
    </style>
  </head>
  <body>
    <h2>Necessary condition</h2>

    <input id="taskInput" type="text" placeholder="Tên công việc" />
    <button onclick="addTask()">Thêm công việc</button>

    <div id="taskList"></div>

    <script>
      let tasks = [];

      function addTask() {
        const name = document.getElementById("taskInput").value.trim();
        if (!name) return;

        const task = {
          id: Date.now(),
          name,
          days: { day1: "", day2: "", day3: "", day4: "" },
        };

        tasks.push(task);
        document.getElementById("taskInput").value = "";
        render();
      }

      function deleteTask(id) {
        tasks = tasks.filter((t) => t.id !== id);
        render();
      }

      function editTask(id) {
        const newName = prompt("Nhập tên mới:");
        if (!newName) return;
        const t = tasks.find((x) => x.id === id);
        t.name = newName;
        render();
      }

      function updateDay(id, day, value) {
        const t = tasks.find((x) => x.id === id);
        t.days[day] = value;
      }

      function render() {
        const list = document.getElementById("taskList");
        list.innerHTML = "";

        tasks.forEach((t) => {
          const div = document.createElement("div");
          div.className = "task";

          div.innerHTML = `
          <h3>${t.name}</h3>
          <button onclick="editTask(${t.id})">Sửa</button>
          <button onclick="deleteTask(${t.id})">Xóa</button>

          <table style="margin-top: 10px;">
            <tr>
              <th>Ngày 1</th>
              <th>Ngày 2</th>
              <th>Ngày 3</th>
              <th>Ngày 4</th>
            </tr>
            <tr>
              <td><input value="${t.days.day1}" oninput="updateDay(${t.id}, 'day1', this.value)"></td>
              <td><input value="${t.days.day2}" oninput="updateDay(${t.id}, 'day2', this.value)"></td>
              <td><input value="${t.days.day3}" oninput="updateDay(${t.id}, 'day3', this.value)"></td>
              <td><input value="${t.days.day4}" oninput="updateDay(${t.id}, 'day4', this.value)"></td>
              <td><input value="${t.days.day5}" oninput="updateDay(${t.id}, 'day4', this.value)"></td>
            </tr>
          </table>
        `;

          list.appendChild(div);
        });
      }
    </script>
  </body>
</html>
